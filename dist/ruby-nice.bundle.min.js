/**
 * ruby-nice
 *
 * The nice javascript library to rubynize your javascript to be a happy programmer again.
 *
 * @version 0.3.3
 * @date 2025-09-01T16:38:45.492Z
 * @link https://github.com/magynhard/ruby-nice
 * @author Matthäus J. N. Beyrle
 * @copyright Matthäus J. N. Beyrle
 */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.assign(Array.prototype,{flatten:function(){var r=this;return function e(t){return 0<(t=t||r).filter(function(e){return Typifier.isArray(e)}).length?e(t.flat()):t.flat()}()}}),Object.assign(Array.prototype,{getMax:function(){return 0===this.length?null:Math.max.apply(Math,_toConsumableArray(this))}}),Object.assign(Array.prototype,{getMin:function(){return 0===this.length?null:Math.min.apply(Math,_toConsumableArray(this))}});var File=function(){function s(){_classCallCheck(this,s)}return _createClass(s,null,[{key:"delete",value:function(e){RubyNice.ensureRunningInNodeJs(),Fs.unlinkSync(e)}},{key:"getAbsolutePath",value:function(e,t){return s.expandPath(e,t,{expand_user_dir:!1})}},{key:"getAccessTime",value:function(e){return Fs.lstatSync(e).atime}},{key:"getBasename",value:function(e,t){e=(e=s.normalizePath(e)).split("/").filter(function(e){return""!==e}).getLast();return t&&(".*"===t&&e.includes(".")?e=e.substring(0,e.lastIndexOf(".")):e.endsWith(t)&&(e=e.substring(0,e.lastIndexOf(t)))),e}},{key:"getBirthTime",value:function(e){return Fs.lstatSync(e).birthtime}},{key:"getDirname",value:function(e){var t=s;return(e=t.normalizePath(e)).substring(0,t.normalizePath(e).lastIndexOf("/"))}},{key:"getSize",value:function(e){return e=s.normalizePath(e),Fs.statSync(e).size}},{key:"expandPath",value:function(e,t,r){var n=1<arguments.length&&void 0!==t?t:"",i=2<arguments.length&&void 0!==r?r:{},o=s;return void 0===(i=i||{}).expand_user_dir&&(i.expand_user_dir=!0),e=o.normalizePath(e),n=o.normalizePath(n),e.startsWith("~")&&n&&n.startsWith("~")?Path.resolve(o._resolveUserDirInPath(e)):(e=n?o._resolveUserDirInPath(n)+"/"+o._resolveUserDirInPath(e):o._resolveUserDirInPath(e),Path.resolve(e))}},{key:"isDirectory",value:function(e){return s.isExisting(e)&&Fs.lstatSync(e).isDirectory()}},{key:"isEmpty",value:function(e){var t=s;return t.isExisting(e)&&0===t.getSize(e)}},{key:"isExisting",value:function(e){return Fs.existsSync(e)}},{key:"isFile",value:function(e){return s.isExisting(e)&&Fs.lstatSync(e).isFile()}},{key:"normalizePath",value:function(e){return s._cutTrailingSlash(e.replace(/\\/g,"/"))}},{key:"read",value:function(e,t){RubyNice.ensureRunningInNodeJs();var r="utf8";t&&["binary","buffer"].includes(t.encoding)&&(r=null);r=Fs.readFileSync(e,r);return t&&"base64"!==t.encoding&&(t.offset&&(r=r.slice(t.offset)),t.length&&(r=r.slice(0,t.length))),r}},{key:"rename",value:function(e,t){RubyNice.ensureRunningInNodeJs(),Fs.renameSync(e,t)}},{key:"readAsDataUri",value:function(e){var t=Mime.getType(e);if(t)return"data:"+t+";base64,"+Fs.readFileSync(e,"base64");throw"No mime type found for file '"+e+"'"}},{key:"write",value:function(e,t,r){RubyNice.ensureRunningInNodeJs();var n={encoding:"utf8"};return r&&(r.flag&&(n.flag=r.flag),["binary","buffer"].includes(r.encoding)&&(n.encoding=null)),Fs.writeFileSync(e,t,n)}},{key:"getHomePath",value:function(){var e=s;RubyNice.ensureRunningInNodeJs();var t=null;if(process.env.HOME)t=process.env.HOME;else if(process.env.HOMEDIR&&process.env.HOMEPATH)t=process.env.HOMEDIR+process.env.HOMEPATH;else if(process.env.USERPROFILE)t=process.env.USERPROFILE;else{if(!Os.homedir())throw new Error("Could not determine path of your home directory. Your OS may be not supported yet.");t=Os.homedir()}return e.normalizePath(t)}},{key:"_cutTrailingSlash",value:function(e){return e.endsWith("/")?e.substring(0,e.length-1):e}},{key:"_resolveUserDirInPath",value:function(e){var t=s,r=/^~([^\/]*)\//,n=e.match(r);return n&&(e=n[1]?t.getDirname(t.getHomePath())+"/"+n[1]+"/"+e.replace(r,""):e.replace(r,t.getHomePath()+"/")),e}}]),s}();Object.defineProperty(Number.prototype,"timesWithIndex",{value:function(e){if("function"==typeof e)if(Typifier.isNumber(this)||Typifier.isNumberClass(this))for(var t=0;t<this&&!1!==e(t);++t);else console.warn(Typifier.getType(this)+".timesWithIndex is not a valid function");return this},enumerable:!1}),Object.defineProperty(Number.prototype,"round",{value:function(){if(Typifier.isNumber(this)||Typifier.isNumberClass(this))return Math.round(this);console.warn(Typifier.getType(this)+".round is not a valid function")},enumerable:!1}),Object.defineProperty(Number.prototype,"ceil",{value:function(){if(Typifier.isNumber(this)||Typifier.isNumberClass(this))return Math.ceil(this);console.warn(Typifier.getType(this)+".ceil is not a valid function")},enumerable:!1}),Object.defineProperty(Number.prototype,"floor",{value:function(){if(Typifier.isNumber(this)||Typifier.isNumberClass(this))return Math.floor(this);console.warn(Typifier.getType(this)+".floor is not a valid function")},enumerable:!1}),Object.defineProperty(Object.prototype,"eachWithIndex",{value:function(e){if("function"==typeof e)if(Typifier.isArray(this)){for(var t=0;t<this.length;++t)if(!1===e(this[t],t,{state:!1}))break}else if(Typifier.isObject(this))for(var r=0,n=Object.keys(this),i=n.length,o=0;o<i;++o){var s=n[o];if(!1===e(s,this[s],r))break;++r}else console.warn(Typifier.getType(this)+".eachWithIndex is not a valid function");return this},enumerable:!1}),Object.defineProperty(Object.prototype,"mapObject",{value:function(e){if("function"==typeof e){if(Typifier.isObject(this)){var t=[],r=0,n=structuredClone(this),i=!0,o=!1,s=void 0;try{for(var a=Object.entries(n)[Symbol.iterator]();!(i=(u=a.next()).done);i=!0){var u=u.value,u=_slicedToArray(u,2),u=e(u[0],u[1],r);t.push(u),++r}}catch(e){o=!0,s=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return t}console.warn(Typifier.getType(this)+".mapObject is not a valid function")}},enumerable:!1}),Object.defineProperty(Object.prototype,"filterObject",{value:function(e){if("function"==typeof e){if(Typifier.isObject(this)){var t={},r=0,n=structuredClone(this),i=!0,o=!1,s=void 0;try{for(var a=Object.entries(n)[Symbol.iterator]();!(i=(l=a.next()).done);i=!0){var u=l.value,l=_slicedToArray(u,2),u=l[0],l=l[1];e(u,l,r)&&(t[u]=l),++r}}catch(e){o=!0,s=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw s}}return t}console.warn(Typifier.getType(this)+".filterObject is not a valid function")}},enumerable:!1}),Object.defineProperty(Object.prototype,"getFirst",{value:function(){if(!Typifier.is("Column",this)){if(Typifier.isArray(this))return this[0];if(Typifier.isObject(this)){var e=Object.entries(this)[0],t={};return t[e[0]]=e[1],t}console.warn(Typifier.getType(this)+".getFirst is not a valid function")}},enumerable:!1}),Object.defineProperty(Object.prototype,"getLast",{value:function(){if(!Typifier.is("Column",this)){if(Typifier.isArray(this))return this[this.length-1];if(Typifier.isObject(this)){var e=Object.entries(this)[Object.entries(this).length-1],t={};return t[e[0]]=e[1],t}console.warn(Typifier.getType(this)+".getLast is not a valid function")}},enumerable:!1}),Object.defineProperty(Object.prototype,"getSample",{value:function(){if(!Typifier.is("Column",this)){if(Typifier.isArray(this))return this[Math.floor(Math.random()*this.length)];if(Typifier.isObject(this)){var e=Math.floor(Math.random()*Object.entries(this).length),t=Object.entries(this)[e],e={};return e[t[0]]=t[1],e}console.warn(Typifier.getType(this)+".getSample is not a valid function")}},enumerable:!1}),Object.assign(String.prototype,{toDownCase:function(){return this.toLocaleLowerCase()}}),Object.assign(String.prototype,{toUpCase:function(){return this.toLocaleUpperCase()}}),Object.defineProperty(String.prototype,"getFirst",{value:function(){return this[0]}}),Object.defineProperty(String.prototype,"getLast",{value:function(){return this[this.length-1]}}),Object.defineProperty(String.prototype,"getSample",{value:function(){return this[Math.floor(Math.random()*this.length)]}}),Object.defineProperty(String.prototype,"scan",{value:function(e){if(void 0===e)throw new Error("ArgumentError (wrong number of arguments (given 0, expected 1))");if(!!!(e=Typifier.isString(e)?new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"):((t=e.flags).includes("g")||(t+="g"),new RegExp(e.source,t))).source.match(/(^\(|[^\\]\()/))return[].concat(_toConsumableArray(this.matchAll(e))).map(function(e){return e[0]});var t=e.lastIndex;e.lastIndex=0;for(var r=[],n=null;(n=e.exec(this))&&(r.push(n.slice(1)),0!==e.lastIndex););return e.lastIndex=t,r}});var Typifier=function(){function Typifier(){_classCallCheck(this,Typifier)}return _createClass(Typifier,null,[{key:"getVersion",value:function(){return Typifier._version}},{key:"isArray",value:function(e){return e instanceof Array&&"Array"===e.constructor.name}},{key:"isObject",value:function(e){return e instanceof Object&&"Object"===e.constructor.name}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isStringClass",value:function(e){return e instanceof Object&&"String"===e.constructor.name}},{key:"isNumber",value:function(e){var t=Typifier;return"number"==typeof e&&!t.isNaN(e)&&!t.isInfinity(e)}},{key:"isNumberClass",value:function(e){return e instanceof Object&&"Number"===e.constructor.name}},{key:"isNumberString",value:function isNumberString(value){var self=Typifier;if(!self.isString(value)&&!self.isStringClass(value))return!1;var number_regex=/^[0-9._]+$/g,hex_regex=/^0[xX][0-9A-Fa-f]+$/g;if(!value.match(number_regex)&&!value.match(hex_regex))return!1;try{return eval(value),!0}catch(e){return!1}}},{key:"isDate",value:function(e){return e instanceof Date}},{key:"isRegExp",value:function(e){return e instanceof RegExp}},{key:"isNaN",value:function(e){return"number"==typeof e&&"NaN"===e.toString()}},{key:"isInfinity",value:function(e){return e===1/0}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isNull",value:function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&null===e}},{key:"isBoolean",value:function(e){return"boolean"==typeof e||e instanceof Object&&"Boolean"===e.constructor.name}},{key:"isBooleanClass",value:function(e){return e instanceof Object&&"Boolean"===e.constructor.name}},{key:"isFunction",value:function(e){return"function"==typeof e&&"Function"===e.constructor.name&&(void 0===e.prototype||e.prototype&&e.prototype.constructor&&!e.prototype.constructor.name)}},{key:"isClass",value:function(e){return"function"==typeof e&&"Function"===e.constructor.name&&e.prototype&&e.prototype.constructor&&e.prototype.constructor.name}},{key:"is",value:function(e,t){return Typifier.getType(t)===e}},{key:"isSet",value:function(e){var t=Typifier;return!t.isUndefined(e)&&!t.isNull(e)}},{key:"getType",value:function(e){var t=Typifier;if(t.isArray(e))return"Array";if(t.isObject(e))return"Object";if(t.isString(e))return"string";if(t.isStringClass(e))return"String";if(t.isNumber(e))return"number";if(t.isNumberClass(e))return"Number";if(t.isDate(e))return"Date";if(t.isRegExp(e))return"RegExp";if(t.isNaN(e))return"NaN";if(t.isInfinity(e))return"Infinity";if(t.isUndefined(e))return"undefined";if(t.isNull(e))return"null";if(t.isBoolean(e))return"boolean";if(t.isBooleanClass(e))return"Boolean";if(t.isFunction(e))return"function";if(t.isClass(e))return"class";t="Unknown",t=e&&e.constructor?e.constructor.name:e&&e.prop&&e.prop.constructor?e.prop.constructor:e&&e.prototype&&e.prototype.constructor&&e.prototype.constructor.name?e.prototype.constructor.name:void 0===e?"undefined":_typeof(e);return LuckyCase.toPascalCase(t)}}]),Typifier}();Typifier._version="0.1.2";