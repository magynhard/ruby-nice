/**
 * ruby-nice
 *
 * The nice javascript library to rubynize your javascript to be a happy programmer again.
 *
 * @version 0.0.39
 * @date 2022-06-01T08:33:10.097Z
 * @link https://github.com/magynhard/ruby-nice
 * @author Matthäus J. N. Beyrle
 * @copyright Matthäus J. N. Beyrle
 */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_slicedToArray=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}}();function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}Object.assign(Array.prototype,{flatten:function(){var t=this;return function e(n){return 0<(n=n||t).filter(function(e){return Typifier.isArray(e)}).length?e(n.flat()):n.flat()}()}}),Object.assign(Array.prototype,{getMax:function(){return 0===this.length?null:Math.max.apply(Math,_toConsumableArray(this))}}),Object.assign(Array.prototype,{getMin:function(){return 0===this.length?null:Math.min.apply(Math,_toConsumableArray(this))}});var File=function(){function a(){_classCallCheck(this,a)}return _createClass(a,null,[{key:"delete",value:function(e){RubyNice.ensureRunningInNodeJs(),Fs.unlinkSync(e)}},{key:"getAbsolutePath",value:function(e,n){return a.expandPath(e,n,{expand_user_dir:!1})}},{key:"getAccessTime",value:function(e){return Fs.lstatSync(e).atime}},{key:"getBasename",value:function(e,n){e=(e=a.normalizePath(e)).split("/").filter(function(e){return""!==e}).getLast();return n&&(".*"===n&&e.includes(".")?e=e.substring(0,e.lastIndexOf(".")):e.endsWith(n)&&(e=e.substring(0,e.lastIndexOf(n)))),e}},{key:"getBirthTime",value:function(e){return Fs.lstatSync(e).birthtime}},{key:"getDirname",value:function(e){var n=a;return(e=n.normalizePath(e)).substring(0,n.normalizePath(e).lastIndexOf("/"))}},{key:"getSize",value:function(e){return e=a.normalizePath(e),Fs.statSync(e).size}},{key:"expandPath",value:function(e,n,t){var r=1<arguments.length&&void 0!==n?n:"",i=2<arguments.length&&void 0!==t?t:{},s=a;return void 0===(i=i||{}).expand_user_dir&&(i.expand_user_dir=!0),e=s.normalizePath(e),r=s.normalizePath(r),e.startsWith("~")&&r&&r.startsWith("~")?Path.resolve(s._resolveUserDirInPath(e)):(e=r?s._resolveUserDirInPath(r)+"/"+s._resolveUserDirInPath(e):s._resolveUserDirInPath(e),Path.resolve(e))}},{key:"isDirectory",value:function(e){return a.isExisting(e)&&Fs.lstatSync(e).isDirectory()}},{key:"isEmpty",value:function(e){var n=a;return n.isExisting(e)&&0===n.getSize(e)}},{key:"isExisting",value:function(e){return Fs.existsSync(e)}},{key:"isFile",value:function(e){return a.isExisting(e)&&Fs.lstatSync(e).isFile()}},{key:"normalizePath",value:function(e){return a._cutTrailingSlash(e.replace(/\\/g,"/"))}},{key:"read",value:function(e,n){RubyNice.ensureRunningInNodeJs();var t="utf8";n&&["binary","buffer"].includes(n.encoding)&&(t=null);t=Fs.readFileSync(e,t);return n&&"base64"!==n.encoding&&(n.offset&&(t=t.slice(n.offset)),n.length&&(t=t.slice(0,n.length))),t}},{key:"rename",value:function(e,n){RubyNice.ensureRunningInNodeJs(),Fs.renameSync(e,n)}},{key:"readAsDataUri",value:function(e){var n=Mime.getType(e);if(n)return"data:"+n+";base64,"+Fs.readFileSync(e,"base64");throw"No mime type found for file '"+e+"'"}},{key:"write",value:function(e,n,t){RubyNice.ensureRunningInNodeJs();var r={encoding:"utf8"};return t&&(t.flag&&(r.flag=t.flag),["binary","buffer"].includes(t.encoding)&&(r.encoding=null)),Fs.writeFileSync(e,n,r)}},{key:"_cutTrailingSlash",value:function(e){return e.endsWith("/")?e.substring(0,e.length-1):e}},{key:"_resolveUserDirInPath",value:function(e){var n=a,t=/^~([^\/]*)\//,r=e.match(t);return r&&(e=r[1]?n.getDirname(process.env.HOME)+"/"+r[1]+"/"+e.replace(t,""):e.replace(t,process.env.HOME+"/")),e}}]),a}();Object.assign(Object.prototype,{eachWithIndex:function(e){if("function"==typeof e)if(Typifier.isArray(this)){for(var n=0;n<this.length;++n)if(!1===e(this[n],n,{state:!1}))break}else if(Typifier.isObject(this)){var t=0,r=!0,i=!1,s=void 0;try{for(var a=Object.entries(this)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var o=o.value,o=_slicedToArray(o,2);if(!1===e(o[0],o[1],t))break;++t}}catch(e){i=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw s}}}else console.warn(Typifier.getType(this)+".each is not a valid function");return this}}),Object.assign(Object.prototype,{map:function(e){if("function"==typeof e){if(Typifier.isObject(this)){Object.entries(this).map(function(e,n){return a={},a[e[0]]=e[1],a});var n=[],t=0,r=!0,i=!1,s=void 0;try{for(var o=Object.entries(this)[Symbol.iterator]();!(r=(u=o.next()).done);r=!0){var u=u.value,u=_slicedToArray(u,2),u=e(u[0],u[1],t);n.push(u),++t}}catch(e){i=!0,s=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw s}}return n}console.warn(Typifier.getType(this)+".map is not a valid function")}}}),Object.assign(Object.prototype,{getFirst:function(){if(!Typifier.is("Column",this)){if(Typifier.isArray(this)&&0<this.length)return this[0];if(Typifier.isObject(this)&&0<Object.entries(this).length){var e=Object.entries(this)[0],n={};return n[e[0]]=e[1],n}console.warn(Typifier.getType(this)+".getFirst is not a valid function")}}}),Object.assign(Object.prototype,{getLast:function(){if(!Typifier.is("Column",this)){if(Typifier.isArray(this)&&0<this.length)return this[this.length-1];if(Typifier.isObject(this)&&0<Object.entries(this).length){var e=Object.entries(this)[Object.entries(this).length-1],n={};return n[e[0]]=e[1],n}console.warn(Typifier.getType(this)+".getLast is not a valid function")}}}),Object.assign(Object.prototype,{getSample:function(){if(!Typifier.is("Column",this)){if(Typifier.isArray(this)&&0<this.length)return this[Math.floor(Math.random()*this.length)];if(Typifier.isObject(this)&&0<Object.entries(this).length){var e=Math.floor(Math.random()*Object.entries(this).length),n=Object.entries(this)[e],e={};return e[n[0]]=n[1],e}console.warn(Typifier.getType(this)+".getSample is not a valid function")}}}),Object.assign(String.prototype,{toDownCase:function(){return this.toLocaleLowerCase()}}),Object.assign(String.prototype,{toUpCase:function(){return this.toLocaleUpperCase()}});var RubyNice=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"ensureRunningInNodeJs",value:function(){if(!e.isRunningInNodeJs())throw new Error("The used method can only be used when running with node js.")}},{key:"getVersion",value:function(){return e._version}},{key:"isRunningInNodeJs",value:function(){return"undefined"!=typeof module&&module.exports}},{key:"isRunningInBrowser",value:function(){return!e.isRunningInNodeJs()}}]),e}();RubyNice._version="0.0.39";var Typifier=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getVersion",value:function(){return t._version}},{key:"isArray",value:function(e){return e instanceof Array&&"Array"===e.constructor.name}},{key:"isObject",value:function(e){return e instanceof Object&&"Object"===e.constructor.name}},{key:"isString",value:function(e){return"string"==typeof e}},{key:"isStringClass",value:function(e){return e instanceof Object&&"String"===e.constructor.name}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isNumberClass",value:function(e){return e instanceof Object&&"Number"===e.constructor.name}},{key:"isDate",value:function(e){return e instanceof Date}},{key:"isRegExp",value:function(e){return e instanceof RegExp}},{key:"isNaN",value:function(e){return"number"==typeof e&&"NaN"===e.toString()}},{key:"isInfinity",value:function(e){return e===1/0}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isNull",value:function(e){return null===typeof e}},{key:"isBoolean",value:function(e){return"boolean"==typeof e||e instanceof Object&&"Boolean"===e.constructor.name}},{key:"isBooleanClass",value:function(e){return e instanceof Object&&"Boolean"===e.constructor.name}},{key:"isFunction",value:function(e){return"function"==typeof e}},{key:"is",value:function(e,n){return t.getType(n)===e}},{key:"getType",value:function(e){var n=t;if(n.isArray(e))return"Array";if(n.isObject(e))return"Object";if(n.isString(e))return"string";if(n.isStringClass(e))return"String";if(n.isNumber(e))return"number";if(n.isNumberClass(e))return"Number";if(n.isDate(e))return"Date";if(n.isRegExp(e))return"RegExp";if(n.isNaN(e))return"NaN";if(n.isInfinity(e))return"Infinity";if(n.isUndefined(e))return"undefined";if(n.isNull(e))return"null";if(n.isBoolean(e))return"boolean";if(n.isBooleanClass(e))return"Boolean";if(n.isFunction(e))return"function";n="Unknown",n=e&&e.constructor?e.constructor.name:e&&e.prop&&e.prop.constructor?e.prop.constructor:void 0===e?"undefined":_typeof(e);return LuckyCase.toPascalCase(n)}}]),t}();Typifier._version="0.0.8";